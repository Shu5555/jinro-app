# JinroApp プロジェクトメモ

## 概要

このプロジェクトは、人狼ゲームのGM（ゲームマスター）を支援するためのWebアプリケーションです。
参加者に役職を割り当て、各プレイヤーが個別に役職を確認できる機能を提供します。

また、Googleフォームで収集した役職案のCSVファイルを、このアプリケーションで利用可能な形式に変換するサブツールも含まれています。

## プロジェクト構成

- `/index.html`: GMが参加者や役職の数を設定し、役職を割り当てるためのメインページ。
- `/player.html`: 各プレイヤーが合言葉を使って自分の役職を確認するためのページ。
- `/script.js`: 上記2つのHTMLファイルの動作を制御するメインのJavaScriptファイル。
- `/style.css`: アプリケーション全体のデザインを定義するCSSファイル。
- `/roles.csv`: 役職のデータが格納されているCSVファイル。以下の形式である必要があります。
  - `役職名,陣営,能力,勝利条件,制作者`
- `/CsvConverterApp/`: Googleフォーム用のCSVを変換するツールのディレクトリ。
  - `index.html`: 変換ツールのUI。
  - `script.js`: 変換ロジック。

## 主な機能と開発経緯

- **役職割り当て機能**: GMが参加者リストと各陣営の人数を入力すると、ランダムに役職を割り当て、プレイヤー確認用のURLと合言葉を生成します。
- **役職確認機能**: プレイヤーは共有されたURLにアクセスし、GMから伝えられた合言葉を入力することで、自分の役職、能力、勝利条件などを確認できます。
- **CSV変換ツール**: `CsvConverterApp` を使うことで、Googleフォームで集計した特定の形式のCSVを、`JinroApp`で読み込み可能な`roles.csv`の形式に変換できます。
- **制作者情報の追加 (v0.1.13)**: 
  - `CsvConverterApp`が、変換元CSVの`名前`列を`制作者`として`roles.csv`に出力するように修正しました。
  - `JinroApp`側もこの新しい`roles.csv`の形式に対応し、役職確認画面(`player.html`)で制作者名を表示するように修正しました。
- **デザインの改善**: 
  - 当初HTML内に記述されていたCSSを、外部ファイル `style.css` に分離しました。
  - モダンで少しおどろおどろしいダークテーマのデザインを適用しました。
  - 背景色が見づらいとのフィードバックを受け、コントラストを調整し視認性を向上させました。
- **フッターの追加**: 全ページの下部に制作者名「shu5555」とバージョン「0.1.13」を表示するフッターを追加しました。
- **レスポンシブ対応**: スマートフォンやタブレットなどの小さい画面でもレイアウトが崩れないように、メディアクエリを`style.css`に追加しました。
- **投票機能の追加と削除**: 
  - 一時的にリアルタイム投票・チャット機能（Node.jsサーバーとFirebase連携）を導入しましたが、ご要望により削除しました。
  - `vote.html`, `vote.js`, `server.js`, `firebase-config.js` および関連するNode.jsの依存関係はすべて削除済みです。
- **GM確認用表示の改善**: 
  - `index.html`のGM確認用詳細一覧の表示が、背景色と同化して見えにくい問題を修正しました。
  - 各プレイヤーの割り当て情報を、より視覚的に分かりやすいカード形式のリストとして表示するように改善しました。

このメモは、今後の開発やメンテナンスを円滑に進めるために作成されました。